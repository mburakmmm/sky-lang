# FFI Example - Calling C strlen function

import ffi

function testStrlen
  # Load libc
  let libc = ffi.load("libc.so.6")
  
  # Get strlen symbol
  let strlen = libc.symbol("strlen")
  strlen.setSignature(ffi.IntType, ffi.StringType)
  
  # Call strlen
  let result = strlen.call("Hello, SKY!")
  print("Length: " + result)  # Should print 12
  
  libc.close()
end

function main
  testStrlen()
end

