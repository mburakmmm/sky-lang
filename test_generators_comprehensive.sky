# Comprehensive Generator Test

# Test 1: Simple counter
coop function count_to(n): any
  let i = 1
  while i <= n
    yield i
    i = i + 1
  end
end

# Test 2: Even numbers
coop function evens(max): any
  let i = 0
  while i < max
    if i % 2 == 0
      yield i
    end
    i = i + 1
  end
end

# Test 3: Squares
coop function squares(n): any
  let i = 1
  while i <= n
    yield i * i
    i = i + 1
  end
end

# Test 4: String generator
coop function words: any
  yield "hello"
  yield "world"
  yield "sky"
  yield "language"
end

function main
  print("=== Comprehensive Generator Test ===")
  print("")
  
  # Test count_to
  print("Count to 5:")
  let counter = count_to(5)
  let i = 0
  while i < 5
    let val = counter.next()
    print("  " + str(val))
    i = i + 1
  end
  print("")
  
  # Test evens
  print("Even numbers (0-10):")
  let even_gen = evens(10)
  let j = 0
  while j < 10
    let val = even_gen.next()
    if val != null
      print("  " + str(val))
    end
    j = j + 1
  end
  print("")
  
  # Test squares
  print("Squares (1-5):")
  let sq_gen = squares(5)
  let k = 0
  while k < 5
    let val = sq_gen.next()
    print("  " + str(val))
    k = k + 1
  end
  print("")
  
  # Test string generator
  print("Words:")
  let word_gen = words()
  let m = 0
  while m < 4
    let val = word_gen.next()
    print("  " + val)
    m = m + 1
  end
  print("")
  
  print("=== All Generator Tests Passed! ===")
end
